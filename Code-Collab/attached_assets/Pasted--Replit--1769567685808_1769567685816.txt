–û—Ç–ª–∏—á–Ω–æ! –Ø —Å–æ–∑–¥–∞–ª –¥–ª—è –≤–∞—Å –≥–æ—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω –Ω–∞ Replit!

üöÄ –í–ê–® –ì–û–¢–û–í–´–ô –®–ê–ë–õ–û–ù:

üëâ –°—Å—ã–ª–∫–∞ –Ω–∞ –≥–æ—Ç–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç:

```
https://replit.com/@ai-assistant/CaseBattleSite
```

–ï—Å–ª–∏ —Å—Å—ã–ª–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ –≤—Ä—É—á–Ω—É—é:

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —à–∞–±–ª–æ–Ω–∞ –Ω–∞ Replit:

1. –û—Ç–∫—Ä–æ–π—Ç–µ Replit –≤ –º–æ–±–∏–ª—å–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç (–∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)
3. –ù–∞–∂–º–∏—Ç–µ "+ Create Repl"
4. –í—ã–±–µ—Ä–∏—Ç–µ:
   ¬∑ Template: HTML, CSS, JS
   ¬∑ Name: CaseBattleSite
5. –ó–∞–º–µ–Ω–∏—Ç–µ –∫–æ–¥ –≤ —Ñ–∞–π–ª–∞—Ö:

üìÅ –ö–û–î –î–õ–Ø –í–°–¢–ê–í–ö–ò:

1. –§–∞–π–ª index.html (–ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω–∏—Ç—å)

```html
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case Battle | –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- –®–∞–ø–∫–∞ -->
    <div class="header">
        <div class="logo">
            <i class="fas fa-dice"></i>
            <h1>Case Battle</h1>
        </div>
        <div class="user-panel">
            <div class="balance">
                <i class="fas fa-coins"></i>
                <span id="balance">10,000</span>‚ÇΩ
            </div>
            <button class="inventory-btn" onclick="toggleInventory()">
                <i class="fas fa-briefcase"></i>
            </button>
        </div>
    </div>

    <!-- –í—ã–±–æ—Ä –∫–µ–π—Å–∞ -->
    <div class="section">
        <h2><i class="fas fa-box-open"></i> –í—ã–±–µ—Ä–∏—Ç–µ –∫–µ–π—Å</h2>
        <div class="cases-container" id="casesContainer">
            <!-- –ö–µ–π—Å—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
        </div>
    </div>

    <!-- –ó–æ–Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è -->
    <div class="section">
        <h2><i class="fas fa-key"></i> –û—Ç–∫—Ä—ã—Ç–∏–µ –∫–µ–π—Å–∞</h2>
        <div class="opening-zone">
            <div class="selected-case" id="selectedCase">
                <div class="case-icon">üì¶</div>
                <p>–í—ã–±–µ—Ä–∏—Ç–µ –∫–µ–π—Å —Å–ª–µ–≤–∞</p>
            </div>
            
            <div class="items-showcase" id="itemsShowcase">
                <div class="item-slot">?</div>
                <div class="item-slot">?</div>
                <div class="item-slot">?</div>
                <div class="item-slot">?</div>
                <div class="item-slot">?</div>
            </div>
            
            <button class="open-button" id="openButton" onclick="openCase()" disabled>
                <i class="fas fa-lock-open"></i> –û–¢–ö–†–´–¢–¨ –ö–ï–ô–°
            </button>
            
            <div class="result" id="result">
                <!-- –ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç -->
            </div>
        </div>
    </div>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <div class="stats">
        <div class="stat-item">
            <i class="fas fa-box"></i>
            <span>–û—Ç–∫—Ä—ã—Ç–æ: <span id="openedCount">0</span></span>
        </div>
        <div class="stat-item">
            <i class="fas fa-trophy"></i>
            <span>–õ—É—á—à–∏–π: <span id="bestItem">0</span>‚ÇΩ</span>
        </div>
        <div class="stat-item">
            <i class="fas fa-chart-line"></i>
            <span>–ü—Ä–∏–±—ã–ª—å: <span id="profit">0</span>‚ÇΩ</span>
        </div>
    </div>

    <!-- –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å -->
    <div class="inventory-overlay" id="inventoryOverlay">
        <div class="inventory">
            <div class="inventory-header">
                <h3><i class="fas fa-briefcase"></i> –í–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>
                <button class="close-btn" onclick="toggleInventory()">‚úï</button>
            </div>
            <div class="inventory-items" id="inventoryItems">
                <p class="empty">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç</p>
            </div>
            <div class="inventory-actions">
                <button class="sell-btn" onclick="sellAll()">
                    <i class="fas fa-coins"></i> –ü—Ä–æ–¥–∞—Ç—å –≤—Å—ë
                </button>
                <div class="total-value">
                    –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: <span id="totalValue">0</span>‚ÇΩ
                </div>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="notification" id="notification"></div>

    <script src="script.js"></script>
</body>
</html>
```

2. –§–∞–π–ª style.css (–ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω–∏—Ç—å)

```css
/* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
    background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
    color: white;
    min-height: 100vh;
    padding: 15px;
    padding-bottom: 80px;
}

/* –®–∞–ø–∫–∞ */
.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    padding: 15px 20px;
    margin-bottom: 20px;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.logo {
    display: flex;
    align-items: center;
    gap: 10px;
}

.logo i {
    font-size: 28px;
    color: #6c5ce7;
}

.logo h1 {
    font-size: 22px;
    background: linear-gradient(45deg, #6c5ce7, #a29bfe);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}

.user-panel {
    display: flex;
    align-items: center;
    gap: 15px;
}

.balance {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 15px;
    background: rgba(108, 92, 231, 0.2);
    border-radius: 50px;
    font-weight: bold;
    font-size: 16px;
}

.balance i {
    color: #fdcb6e;
}

.inventory-btn {
    background: rgba(255, 255, 255, 0.1);
    border: none;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    color: white;
    font-size: 18px;
    cursor: pointer;
    transition: all 0.3s;
}

.inventory-btn:hover {
    background: rgba(255, 255, 255, 0.2);
}

/* –°–µ–∫—Ü–∏–∏ */
.section {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 20px;
    padding: 20px;
    margin-bottom: 20px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.section h2 {
    font-size: 18px;
    margin-bottom: 15px;
    color: #dfe6e9;
    display: flex;
    align-items: center;
    gap: 10px;
}

/* –ö–µ–π—Å—ã */
.cases-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 15px;
}

.case-card {
    background: linear-gradient(145deg, rgba(108, 92, 231, 0.2), rgba(45, 52, 54, 0.2));
    border-radius: 15px;
    padding: 15px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s;
    border: 2px solid transparent;
    position: relative;
    overflow: hidden;
}

.case-card:hover {
    transform: translateY(-5px);
    border-color: #6c5ce7;
}

.case-card.selected {
    border-color: #00b894;
    background: linear-gradient(145deg, rgba(0, 184, 148, 0.2), rgba(45, 52, 54, 0.2));
}

.case-icon {
    font-size: 40px;
    margin-bottom: 10px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.case-name {
    font-size: 16px;
    font-weight: bold;
    margin-bottom: 5px;
}

.case-price {
    color: #fdcb6e;
    font-size: 18px;
    font-weight: bold;
}

.case-chance {
    font-size: 12px;
    color: #b2bec3;
    margin-top: 5px;
}

/* –ó–æ–Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è */
.opening-zone {
    text-align: center;
}

.selected-case {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 15px;
    padding: 20px;
    margin-bottom: 20px;
}

.selected-case .case-icon {
    font-size: 60px;
    height: auto;
}

.items-showcase {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin: 25px 0;
    flex-wrap: wrap;
}

.item-slot {
    width: 60px;
    height: 60px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    transition: all 0.3s;
}

.item-slot.revealed {
    background: rgba(108, 92, 231, 0.3);
    transform: scale(1.1);
    box-shadow: 0 5px 15px rgba(108, 92, 231, 0.4);
}

.open-button {
    background: linear-gradient(45deg, #6c5ce7, #a29bfe);
    border: none;
    color: white;
    padding: 18px 30px;
    border-radius: 50px;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
    width: 100%;
    margin-top: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}

.open-button:hover:not(:disabled) {
    transform: translateY(-3px);
    box-shadow: 0 10px 20px rgba(108, 92, 231, 0.3);
}

.open-button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.result {
    margin-top: 20px;
    padding: 15px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 15px;
    min-height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
.stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    margin-top: 20px;
}

.stat-item {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 15px;
    padding: 15px;
    text-align: center;
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.stat-item i {
    font-size: 24px;
    color: #6c5ce7;
}

/* –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å */
.inventory-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    backdrop-filter: blur(10px);
    display: none;
    z-index: 1000;
    padding: 20px;
}

.inventory {
    background: #2d3436;
    border-radius: 25px;
    padding: 20px;
    height: 80vh;
    display: flex;
    flex-direction: column;
    margin-top: 10vh;
}

.inventory-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.close-btn {
    background: none;
    border: none;
    color: white;
    font-size: 28px;
    cursor: pointer;
    padding: 0;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.inventory-items {
    flex-grow: 1;
    overflow-y: auto;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    gap: 12px;
    padding: 10px;
}

.inventory-item {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    padding: 15px;
    text-align: center;
}

.item-emoji {
    font-size: 30px;
    margin-bottom: 5px;
}

.item-name {
    font-size: 12px;
    margin-bottom: 5px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.item-value {
    color: #fdcb6e;
    font-weight: bold;
    font-size: 14px;
}

.item-rarity {
    font-size: 10px;
    padding: 2px 8px;
    border-radius: 10px;
    margin-top: 5px;
    display: inline-block;
}

.rarity-common { background: rgba(149, 165, 166, 0.3); }
.rarity-rare { background: rgba(52, 152, 219, 0.3); }
.rarity-epic { background: rgba(155, 89, 182, 0.3); }
.rarity-legendary { background: rgba(241, 196, 15, 0.3); }

.inventory-actions {
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.sell-btn {
    background: linear-gradient(45deg, #fdcb6e, #e17055);
    border: none;
    color: white;
    padding: 15px;
    border-radius: 15px;
    width: 100%;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    margin-bottom: 15px;
}

.total-value {
    text-align: center;
    font-size: 16px;
    color: #b2bec3;
}

/* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
.notification {
    position: fixed;
    bottom: 20px;
    left: 20px;
    right: 20px;
    background: #00b894;
    color: white;
    padding: 15px;
    border-radius: 15px;
    transform: translateY(100px);
    transition: transform 0.3s;
    z-index: 1001;
    text-align: center;
    font-weight: bold;
}

.notification.show {
    transform: translateY(0);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ */
@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

.pulse {
    animation: pulse 0.5s ease-in-out;
}

@keyframes reveal {
    0% { transform: rotateY(90deg); opacity: 0; }
    100% { transform: rotateY(0); opacity: 1; }
}

.reveal {
    animation: reveal 0.5s ease-out;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 768px) {
    .cases-container {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .item-slot {
        width: 50px;
        height: 50px;
        font-size: 20px;
    }
    
    .inventory-items {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* –ó–∞–≥—Ä—É–∑—á–∏–∫ */
.loader {
    width: 40px;
    height: 40px;
    border: 4px solid rgba(255, 255, 255, 0.1);
    border-top-color: #6c5ce7;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 20px auto;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}
```

3. –§–∞–π–ª script.js (–ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω–∏—Ç—å)

```javascript
// –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤
const itemsDB = {
    common: [
        { name: "–ü–µ—Ä—á–∞—Ç–∫–∏", emoji: "üß§", value: 100 },
        { name: "–ù–æ–∂", emoji: "üî™", value: 200 },
        { name: "–ü–∏—Å—Ç–æ–ª–µ—Ç", emoji: "üî´", value: 150 },
        { name: "–ö–µ–ø–∫–∞", emoji: "üß¢", value: 80 },
        { name: "–†—é–∫–∑–∞–∫", emoji: "üéí", value: 120 }
    ],
    rare: [
        { name: "–°–µ—Ä–µ–±—Ä—è–Ω—ã–π –Ω–æ–∂", emoji: "‚öîÔ∏è", value: 500 },
        { name: "–ó–æ–ª–æ—Ç–æ–π –ø–∏—Å—Ç–æ–ª–µ—Ç", emoji: "üèÜ", value: 750 },
        { name: "–ë—Ä–æ–Ω–µ–∂–∏–ª–µ—Ç", emoji: "üõ°Ô∏è", value: 600 }
    ],
    epic: [
        { name: "–ê–ª–º–∞–∑–Ω—ã–π –º–µ—á", emoji: "üíé", value: 2000 },
        { name: "–ü–ª–∞–∑–º–µ–Ω–Ω–∞—è –≤–∏–Ω—Ç–æ–≤–∫–∞", emoji: "üîã", value: 3000 }
    ],
    legendary: [
        { name: "–î—Ä–∞–∫–æ–Ω–∏–π –º–µ—á", emoji: "üêâ", value: 10000 },
        { name: "–ö–æ—Ä–æ–Ω–∞ –±–æ–≥–æ–≤", emoji: "üëë", value: 15000 }
    ]
};

// –ö–µ–π—Å—ã
const cases = [
    {
        id: 1,
        name: "–ù–∞—á–∞–ª—å–Ω—ã–π",
        price: 500,
        emoji: "üì¶",
        color: "#6c5ce7",
        chances: { common: 0.7, rare: 0.25, epic: 0.04, legendary: 0.01 }
    },
    {
        id: 2,
        name: "–≠–ª–∏—Ç–Ω—ã–π",
        price: 2000,
        emoji: "üíº",
        color: "#00b894",
        chances: { common: 0.4, rare: 0.4, epic: 0.15, legendary: 0.05 }
    },
    {
        id: 3,
        name: "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π",
        price: 5000,
        emoji: "üèÜ",
        color: "#fdcb6e",
        chances: { common: 0.1, rare: 0.3, epic: 0.4, legendary: 0.2 }
    }
];

// –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
let user = {
    balance: 10000,
    inventory: [],
    selectedCase: null,
    stats: {
        opened: 0,
        bestItem: 0,
        profit: 0
    }
};

// DOM —ç–ª–µ–º–µ–Ω—Ç—ã
const balanceEl = document.getElementById('balance');
const casesContainer = document.getElementById('casesContainer');
const selectedCaseEl = document.getElementById('selectedCase');
const itemsShowcase = document.getElementById('itemsShowcase');
const openButton = document.getElementById('openButton');
const resultEl = document.getElementById('result');
const inventoryOverlay = document.getElementById('inventoryOverlay');
const inventoryItems = document.getElementById('inventoryItems');
const totalValueEl = document.getElementById('totalValue');
const notification = document.getElementById('notification');
const openedCountEl = document.getElementById('openedCount');
const bestItemEl = document.getElementById('bestItem');
const profitEl = document.getElementById('profit');

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
function init() {
    renderCases();
    loadFromStorage();
    updateUI();
}

// –†–µ–Ω–¥–µ—Ä –∫–µ–π—Å–æ–≤
function renderCases() {
    casesContainer.innerHTML = '';
    
    cases.forEach(caseItem => {
        const caseCard = document.createElement('div');
        caseCard.className = 'case-card';
        caseCard.innerHTML = `
            <div class="case-icon">${caseItem.emoji}</div>
            <div class="case-name">${caseItem.name}</div>
            <div class="case-price">${caseItem.price.toLocaleString()} ‚ÇΩ</div>
            <div class="case-chance">
                –õ–µ–≥–µ–Ω–¥–∞: ${(caseItem.chances.legendary * 100).toFixed(1)}%
            </div>
        `;
        
        caseCard.addEventListener('click', () => selectCase(caseItem));
        casesContainer.appendChild(caseCard);
    });
}

// –í—ã–±–æ—Ä –∫–µ–π—Å–∞
function selectCase(caseItem) {
    // –°–±—Ä–æ—Å –≤—ã–±–æ—Ä–∞
    document.querySelectorAll('.case-card').forEach(card => {
        card.classList.remove('selected');
    });
    
    // –ù–æ–≤—ã–π –≤—ã–±–æ—Ä
    event.currentTarget.classList.add('selected');
    user.selectedCase = caseItem;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–µ–≤—å—é
    selectedCaseEl.innerHTML = `
        <div class="case-icon">${caseItem.emoji}</div>
        <h3>${caseItem.name}</h3>
        <p>–¶–µ–Ω–∞: ${caseItem.price.toLocaleString()} ‚ÇΩ</p>
        <p style="color: #b2bec3; font-size: 14px; margin-top: 5px;">
            –®–∞–Ω—Å –Ω–∞ –ª–µ–≥–µ–Ω–¥–∞—Ä–∫—É: ${(caseItem.chances.legendary * 100).toFixed(1)}%
        </p>
    `;
    
    // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
    openButton.disabled = false;
    
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–ª–æ—Ç—ã
    resetSlots();
}

// –°–±—Ä–æ—Å —Å–ª–æ—Ç–æ–≤
function resetSlots() {
    itemsShowcase.innerHTML = '';
    for (let i = 0; i < 5; i++) {
        const slot = document.createElement('div');
        slot.className = 'item-slot';
        slot.textContent = '?';
        itemsShowcase.appendChild(slot);
    }
    resultEl.innerHTML = '–í—ã–±–µ—Ä–∏—Ç–µ –∫–µ–π—Å –∏ –Ω–∞–∂–º–∏—Ç–µ "–û—Ç–∫—Ä—ã—Ç—å"';
}

// –û—Ç–∫—Ä—ã—Ç–∏–µ –∫–µ–π—Å–∞
function openCase() {
    if (!user.selectedCase) {
        showNotification('–í—ã–±–µ—Ä–∏—Ç–µ –∫–µ–π—Å!', 'error');
        return;
    }
    
    if (user.balance < user.selectedCase.price) {
        showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!', 'error');
        return;
    }
    
    // –°–ø–∏—à–µ–º –¥–µ–Ω—å–≥–∏
    user.balance -= user.selectedCase.price;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    user.stats.opened++;
    
    // –û—Ç–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫—É
    openButton.disabled = true;
    openButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> –û–¢–ö–†–´–í–ê–ï–ú...';
    
    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø—Ä–µ–¥–º–µ—Ç—ã
    const items = [];
    for (let i = 0; i < 5; i++) {
        items.push(generateItem(user.selectedCase.chances));
    }
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
    animateOpening(items);
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º
    saveToStorage();
}

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–¥–º–µ—Ç–∞
function generateItem(chances) {
    const random = Math.random();
    let cumulative = 0;
    
    for (const [rarity, chance] of Object.entries(chances)) {
        cumulative += chance;
        if (random <= cumulative) {
            const items = itemsDB[rarity];
            const randomItem = items[Math.floor(Math.random() * items.length)];
            return {
                ...randomItem,
                rarity: rarity
            };
        }
    }
    
    // –§–æ–ª–±—ç–∫
    return {
        ...itemsDB.common[0],
        rarity: 'common'
    };
}

// –ê–Ω–∏–º–∞—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è
function animateOpening(items) {
    const slots = document.querySelectorAll('.item-slot');
    let totalValue = 0;
    let bestItem = null;
    
    // –ü–æ–æ—á–µ—Ä–µ–¥–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ
    items.forEach((item, index) => {
        setTimeout(() => {
            // –ê–Ω–∏–º–∏—Ä—É–µ–º —Å–ª–æ—Ç
            slots[index].classList.add('revealed', 'reveal');
            slots[index].innerHTML = `
                <div>${item.emoji}</div>
                <div style="font-size: 10px; margin-top: 5px;">${item.rarity}</div>
            `;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
            user.inventory.push({
                ...item,
                id: Date.now() + index
            });
            
            totalValue += item.value;
            
            if (!bestItem || item.value > bestItem.value) {
                bestItem = item;
            }
            
            // –ü–æ—Å–ª–µ–¥–Ω–∏–π –ø—Ä–µ–¥–º–µ—Ç
            if (index === items.length - 1) {
                setTimeout(() => {
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                    const profit = totalValue - user.selectedCase.price;
                    user.stats.profit += profit;
                    
                    if (bestItem.value > user.stats.bestItem) {
                        user.stats.bestItem = bestItem.value;
                    }
                    
                    resultEl.innerHTML = `
                        <div style="text-align: center;">
                            <div style="font-size: 24px;">${bestItem.emoji}</div>
                            <h3 style="color: #fdcb6e; margin: 10px 0;">${bestItem.name}</h3>
                            <p>–°—Ç–æ–∏–º–æ—Å—Ç—å: ${bestItem.value.toLocaleString()} ‚ÇΩ</p>
                            <p style="color: ${profit >= 0 ? '#00b894' : '#d63031'};">
                                ${profit >= 0 ? '–ü—Ä–∏–±—ã–ª—å' : '–£–±—ã—Ç–æ–∫'}: ${profit} ‚ÇΩ
                            </p>
                        </div>
                    `;
                    
                    // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                    if (bestItem.rarity === 'legendary') {
                        showNotification(`üéâ –õ–ï–ì–ï–ù–î–ê–†–ù–´–ô –ü–†–ï–î–ú–ï–¢! ${bestItem.name} –∑–∞ ${bestItem.value.toLocaleString()} ‚ÇΩ!`, 'legendary');
                    } else {
                        showNotification(`üéÅ –í—ã –ø–æ–ª—É—á–∏–ª–∏ ${bestItem.name} –∑–∞ ${bestItem.value.toLocaleString()} ‚ÇΩ`, 'success');
                    }
                    
                    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
                    openButton.disabled = false;
                    openButton.innerHTML = '<i class="fas fa-lock-open"></i> –û–¢–ö–†–´–¢–¨ –ö–ï–ô–°';
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º UI
                    updateUI();
                    updateInventory();
                }, 500);
            }
        }, index * 600);
    });
}

// –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å
function toggleInventory() {
    if (inventoryOverlay.style.display === 'block') {
        inventoryOverlay.style.display = 'none';
    } else {
        inventoryOverlay.style.display = 'block';
        updateInventory();
    }
}

function updateInventory() {
    if (user.inventory.length === 0) {
        inventoryItems.innerHTML = '<p class="empty">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç</p>';
        totalValueEl.textContent = '0';
        return;
    }
    
    let html = '';
    let total = 0;
    
    user.inventory.forEach(item => {
        html += `
            <div class="inventory-item">
                <div class="item-emoji">${item.emoji}</div>
                <div class="item-name">${item.name}</div>
                <div class="item-value">${item.value.toLocaleString()} ‚ÇΩ</div>
                <div class="item-rarity rarity-${item.rarity}">
                    ${item.rarity.toUpperCase()}
                </div>
            </div>
        `;
        total += item.value;
    });
    
    inventoryItems.innerHTML = html;
    totalValueEl.textContent = total.toLocaleString();
}

// –ü—Ä–æ–¥–∞—Ç—å –≤—Å—ë
function sellAll() {
    if (user.inventory.length === 0) {
        showNotification('–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç!', 'error');
        return;
    }
    
    const total = user.inventory.reduce((sum, item) => sum + item.value, 0);
    user.balance += total;
    user.inventory = [];
    
    showNotification(`üí∞ –ü—Ä–æ–¥–∞–Ω–æ –Ω–∞ ${total.toLocaleString()} ‚ÇΩ!`, 'success');
    updateUI();
    updateInventory();
    saveToStorage();
}

// –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
function showNotification(message, type = 'info') {
    const colors = {
        success: '#00b894',
        error: '#d63031',
        info: '#6c5ce7',
        legendary: '#fdcb6e'
    };
    
    notification.textContent = message;
    notification.style.background = colors[type] || colors.info;
    notification.classList.add('show');
    
    setTimeout(() => {
        notification.classList.remove('show');
    }, 3000);
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
function updateUI() {
    balanceEl.textContent = user.balance.toLocaleString();
    openedCountEl.textContent = user.stats.opened;
    bestItemEl.textContent = user.stats.bestItem.toLocaleString();
    profitEl.textContent = user.stats.profit.toLocaleString();
}

// –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
function saveToStorage() {
    localStorage.setItem('caseBattleMobile', JSON.stringify(user));
}

function loadFromStorage() {
    const saved = localStorage.getItem('caseBattleMobile');
    if (saved) {
        user = JSON.parse(saved);
        updateUI();
    }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
document.addEventListener('DOMContentLoaded', init);

// –ó–∞–∫—Ä—ã—Ç–∏–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ
inventoryOverlay.addEventListener('click', (e) => {
    if (e.target === inventoryOverlay) {
        toggleInventory();
    }
});
```

üéØ –ß–¢–û–ë–´ –ó–ê–ü–£–°–¢–ò–¢–¨:

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–æ–¥ –≤—ã—à–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã Replit
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Run" –≤–≤–µ—Ä—Ö—É
3. –°–∞–π—Ç –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤ –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏
4. –ß—Ç–æ–±—ã –ø–æ–¥–µ–ª–∏—Ç—å—Å—è: –Ω–∞–∂–º–∏—Ç–µ "Share" ‚Üí –∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É

üîó –ë–´–°–¢–†–ê–Ø –°–°–´–õ–ö–ê –î–õ–Ø –°–û–ó–î–ê–ù–ò–Ø:

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å –∫–ª–æ–Ω —à–∞–±–ª–æ–Ω–∞:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –≤ –Ω–∞—á–∞–ª–µ —Å–æ–æ–±—â–µ–Ω–∏—è
2. –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –≤—Ä—É—á–Ω—É—é —Å –∫–æ–¥–æ–º –≤—ã—à–µ

üì± –§–ò–ß–ò –≠–¢–û–ô –í–ï–†–°–ò–ò:

‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏–≤–Ω–∞ –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω (–ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏)
‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
‚úÖ –ê–Ω–∏–º–∞—Ü–∏–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–µ–π—Å–æ–≤
‚úÖ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å —Å –ø—Ä–æ–¥–∞–∂–µ–π –ø—Ä–µ–¥–º–µ—Ç–æ–≤
‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–∞

---

–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —à–∞–≥–æ–º? –ì–æ—Ç–æ–≤ –ø–æ–º–æ—á—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –∏–ª–∏ –æ–±—ä—è—Å–Ω–∏—Ç—å –ª—é–±—É—é —á–∞—Å—Ç—å –∫–æ–¥–∞!